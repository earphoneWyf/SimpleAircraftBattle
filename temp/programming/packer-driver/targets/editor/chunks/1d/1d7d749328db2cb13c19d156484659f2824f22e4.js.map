{"version":3,"sources":["file:///Users/wangyifeng1/AircraftBattle/assets/script/PlayerController.ts"],"names":["_decorator","Component","instantiate","Node","Prefab","v3","ccclass","property","PlayerController","start","console","log","node","on","EventType","TOUCH_MOVE","onTouchMove","schedule","x","y","getPosition","bullet","setParent","parent","setPosition","update","deltaTime","event","getUILocation","setWorldPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,E,OAAAA,E;;;;;;;;;OACjE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;kCAGjBQ,gB,WADZF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAACH,MAAD,C,2BAFb,MACaI,gBADb,SACsCP,SADtC,CACgD;AAAA;AAAA;;AAAA;AAAA;;AAK5CQ,QAAAA,KAAK,GAAG;AACJC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeC,UAA5B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D,EAFI,CAIJ;;AACA,eAAKC,QAAL,CAAc,MAAM;AAChB,kBAAM;AAAEC,cAAAA,CAAF;AAAKC,cAAAA;AAAL,gBAAW,KAAKP,IAAL,CAAUQ,WAAV,EAAjB;AACA,kBAAMR,IAAI,GAAGV,WAAW,CAAC,KAAKmB,MAAN,CAAxB;AACAT,YAAAA,IAAI,CAACU,SAAL,CAAe,KAAKV,IAAL,CAAUW,MAAzB;AACAX,YAAAA,IAAI,CAACY,WAAL,CAAiBN,CAAjB,EAAoBC,CAAC,GAAG,EAAxB;AACH,WALD,EAKG,GALH;AAMH;;AAEDM,QAAAA,MAAM,CAACC,SAAD,EAAoB,CACzB;;AAEDV,QAAAA,WAAW,CAACW,KAAD,EAAoB;AAC3B,gBAAM;AAAET,YAAAA,CAAF;AAAKC,YAAAA;AAAL,cAAWQ,KAAK,CAACC,aAAN,EAAjB;AACA,eAAKhB,IAAL,CAAUiB,gBAAV,CAA2BxB,EAAE,CAACa,CAAD,EAAIC,CAAJ,CAA7B;AACH;;AAxB2C,O;;;;;iBAEpB,I","sourcesContent":["import { _decorator, Component, EventTouch, instantiate, Node, Prefab, v3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PlayerController')\nexport class PlayerController extends Component {\n    @property(Prefab)\n    bullet: Prefab | null = null;\n\n\n    start() {\n        console.log('飞机大战')\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n\n        //不断生成子弹\n        this.schedule(() => {\n            const { x, y } = this.node.getPosition();\n            const node = instantiate(this.bullet);\n            node.setParent(this.node.parent);\n            node.setPosition(x, y + 70);\n        }, 0.2)\n    }\n\n    update(deltaTime: number) {\n    }\n\n    onTouchMove(event: EventTouch) {\n        const { x, y } = event.getUILocation();\n        this.node.setWorldPosition(v3(x, y));\n    }\n}\n\n"]}